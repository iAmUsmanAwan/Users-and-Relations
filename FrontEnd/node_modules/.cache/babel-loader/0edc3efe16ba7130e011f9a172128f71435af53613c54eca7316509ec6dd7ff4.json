{"ast":null,"code":"// components/Relationships.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Relationships=()=>{const[users,setUsers]=useState([]);const[relationships,setRelationships]=useState([]);useEffect(()=>{fetchUsers();fetchRelationships();},[]);const fetchUsers=async()=>{const response=await axios.get('http://localhost:8000/users/');setUsers(response.data);};const fetchRelationships=async()=>{const response=await axios.get('http://localhost:8000/relationships/');setRelationships(response.data);};const handleRelationship=async(user1Id,user2Id,relationship)=>{await axios.post('http://localhost:8000/relationships/',{user1:user1Id,user2:user2Id,relationship});fetchRelationships();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),/*#__PURE__*/_jsx(\"ul\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[user.name,\" - \",user.email,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRelationship(user.id,2,'friend')// Example: user1 with user2\n,children:\"Add Relationship\"}),/*#__PURE__*/_jsx(\"ul\",{children:relationships.filter(relationship=>relationship.user1===user.id||relationship.user2===user.id).map(relationship=>/*#__PURE__*/_jsxs(\"li\",{children:[\"Relationship with\",' ',relationship.user1===user.id?relationship.user2:relationship.user1,\": \",relationship.relationship]},relationship.id))})]},user.id))})]});};export default Relationships;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Relationships","users","setUsers","relationships","setRelationships","fetchUsers","fetchRelationships","response","get","data","handleRelationship","user1Id","user2Id","relationship","post","user1","user2","children","map","user","name","email","onClick","id","filter"],"sources":["E:/MY_STUFF/web_pages_practice/junk/User relationship App/FrontEnd/src/components/Relationships.js"],"sourcesContent":["// components/Relationships.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Relationships = () => {\r\n    const [users, setUsers] = useState([]);\r\n    const [relationships, setRelationships] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchUsers();\r\n        fetchRelationships();\r\n    }, []);\r\n\r\n    const fetchUsers = async () => {\r\n        const response = await axios.get('http://localhost:8000/users/');\r\n        setUsers(response.data);\r\n    };\r\n\r\n    const fetchRelationships = async () => {\r\n        const response = await axios.get('http://localhost:8000/relationships/');\r\n        setRelationships(response.data);\r\n    };\r\n\r\n    const handleRelationship = async (user1Id, user2Id, relationship) => {\r\n        await axios.post('http://localhost:8000/relationships/', {\r\n            user1: user1Id,\r\n            user2: user2Id,\r\n            relationship,\r\n        });\r\n        fetchRelationships();\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Users</h1>\r\n            <ul>\r\n                {users.map((user) => (\r\n                    <li key={user.id}>\r\n                        {user.name} - {user.email}\r\n                        <button\r\n                            onClick={() =>\r\n                                handleRelationship(user.id, 2, 'friend') // Example: user1 with user2\r\n                            }\r\n                        >\r\n                            Add Relationship\r\n                        </button>\r\n                        <ul>\r\n                            {relationships\r\n                                .filter(\r\n                                    (relationship) =>\r\n                                        relationship.user1 === user.id ||\r\n                                        relationship.user2 === user.id\r\n                                )\r\n                                .map((relationship) => (\r\n                                    <li key={relationship.id}>\r\n                                        Relationship with{' '}\r\n                                        {relationship.user1 === user.id\r\n                                            ? relationship.user2\r\n                                            : relationship.user1}\r\n                                        : {relationship.relationship}\r\n                                    </li>\r\n                                ))}\r\n                        </ul>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Relationships;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,aAAa,CAAEC,gBAAgB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACZW,UAAU,CAAC,CAAC,CACZC,kBAAkB,CAAC,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAD,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,8BAA8B,CAAC,CAChEN,QAAQ,CAACK,QAAQ,CAACE,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAH,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACnC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,sCAAsC,CAAC,CACxEJ,gBAAgB,CAACG,QAAQ,CAACE,IAAI,CAAC,CACnC,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAG,KAAAA,CAAOC,OAAO,CAAEC,OAAO,CAAEC,YAAY,GAAK,CACjE,KAAM,CAAAlB,KAAK,CAACmB,IAAI,CAAC,sCAAsC,CAAE,CACrDC,KAAK,CAAEJ,OAAO,CACdK,KAAK,CAAEJ,OAAO,CACdC,YACJ,CAAC,CAAC,CACFP,kBAAkB,CAAC,CAAC,CACxB,CAAC,CAED,mBACIP,KAAA,QAAAkB,QAAA,eACIpB,IAAA,OAAAoB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdpB,IAAA,OAAAoB,QAAA,CACKhB,KAAK,CAACiB,GAAG,CAAEC,IAAI,eACZpB,KAAA,OAAAkB,QAAA,EACKE,IAAI,CAACC,IAAI,CAAC,KAAG,CAACD,IAAI,CAACE,KAAK,cACzBxB,IAAA,WACIyB,OAAO,CAAEA,CAAA,GACLZ,kBAAkB,CAACS,IAAI,CAACI,EAAE,CAAE,CAAC,CAAE,QAAQ,CAAE;AAC5C,CAAAN,QAAA,CACJ,kBAED,CAAQ,CAAC,cACTpB,IAAA,OAAAoB,QAAA,CACKd,aAAa,CACTqB,MAAM,CACFX,YAAY,EACTA,YAAY,CAACE,KAAK,GAAKI,IAAI,CAACI,EAAE,EAC9BV,YAAY,CAACG,KAAK,GAAKG,IAAI,CAACI,EACpC,CAAC,CACAL,GAAG,CAAEL,YAAY,eACdd,KAAA,OAAAkB,QAAA,EAA0B,mBACL,CAAC,GAAG,CACpBJ,YAAY,CAACE,KAAK,GAAKI,IAAI,CAACI,EAAE,CACzBV,YAAY,CAACG,KAAK,CAClBH,YAAY,CAACE,KAAK,CAAC,IACvB,CAACF,YAAY,CAACA,YAAY,GALvBA,YAAY,CAACU,EAMlB,CACP,CAAC,CACN,CAAC,GAzBAJ,IAAI,CAACI,EA0BV,CACP,CAAC,CACF,CAAC,EACJ,CAAC,CAEd,CAAC,CAED,cAAe,CAAAvB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}